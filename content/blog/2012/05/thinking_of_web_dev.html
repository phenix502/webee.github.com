---
title: 初接触网站开发之理解与心得
description: >
    网站是一个艺术品，‘你’必须是一个全面和挑剔的人才可以把它设计得尽善尽美。
created: !!timestamp '2012-05-22 20:30:00'
tags:
    - note
    - web
    - think
    - django
    - experience
---
四月初到五月初，在我作为网管的学校测试中心，由于老的预约系统（aps+access）实在难于维护，也不能很好的适应新的需要，因此我决定重新开发一个新的网站。由于之前了解过django和mvc，所以我就选择了django和mysql的组合。之前没有怎么接触过网站开发，这是我的第一个网站项目，所以这一个多月是在一边学习，一边开发。这其中对网站开发也产生自己的理解和一些可能有用的心得，大多数心得都是针对个人独自开发来说的，有些也适用于其它开发活动。
 
## 准备工作

1. 确定开发工具
2. 搭建开发环境
3. 学习

由于原先的站点是由asp+access开发的，所以我最开始也是考虑这样开发的，但是asp+access不说已经很过时了，我也被它的代码吓到了：表现和逻辑在一起，很难到可维护，可复用，更难以扩展。最后我选择了django+mysql，主要是之前对对它们有所了解，很喜欢mvc（django里是叫mtv+urlConf）。

确定了django+mysql后就要开始搭建开发环境了，主要是操作系统，IDE等。最开始我是想在windows下找一个开发django好的IDE环境，找到了Aptana，但是使用起来很麻烦。最后还是感觉django的开发，最好的方式是在linux下用vim等文本编辑器来做。

如果已经熟悉所有的开发工具，就可以开始开发了。我因为对django不怎么熟悉，所以需要学习。我觉得这里学习最好的方式是跟着一些简单的实例教程做一遍，大致了解，然后找到官方的文档作参考就可以开始开发了。开发过程中官方文档不理解的，或者没具体讲解的地方，再google解决。

## 开发流程
我最开始的开发流程是如下的：

1. 需求分析+数据库设计
2. 功能页面设计
3. 实现
    1. 前台界面设计
    2. 后台功能实现
    3. 单元测试

需求分析在我看来就是分析整个系统涉及到功能，再提取出需要的数据对象，然后再设计相应的数据库（django中的model设计）。**数据表一定要考虑全面，把能够想到的字段最好都加上，因为删除一个字段容易，但是增加一个字段有时候很麻烦**。

不管什么网站都是由一个个页面组成的，所以接下来就是**以页面为目标的功能分析**，比如登录，显示所有仪器，增加预约等。**把能想到的所有页面按一定的规则分类，做一个列表**。

最后就是实现具体的页面功能，比如登录。这里前台和后台的关系比较纠结，我最开始是先实现后台功能再来进行前台界面设计。事实上这里逻辑是有问题的，因为界面是我们最终的目标，所以应该是由**前台界面决定后台功能设计**。所以，这里我觉得界面是最重要的，界面指导了功能的设计，当然界面最终是反应功能的，好纠结。

如果是一个人开发，**功能开发阶段的界面设计适可而止**，不影响实现功能就行了，等整个项目结束之后再对界面进行优化，不然会很影响效率。

如果是两人开发，一个负责后台，一个负责前台，在两人都了解了页面功能的基础上，约定好调用数据后，界面设计师和后台开发人员就可以独立开发了，最后由后台开发人员进行整合。

**先实现功能，再考虑优化**，很多时候在实现到一半的时候，会想到其它的更好的解决办法，但是我觉得最好还是不要停下来，把想法记下来就可以了，在下一轮改进的时候再实现新想法。不要纠结在优化的陷阱中，不然真的很影响效率。

以前面对一个功能的开发，可以做到很投入，专注的完成，效率很高。但是当一个人开发整个项目时，因为要想所有方面的事情，总是会考虑太多问题，而使自己犹豫不前，所以最好是提前制定好开发计划和相关的开发原则，严格执行。

总结一下：

* 制定计划
* 实现功能，不考虑优化
* 记录任何有用的想法
* 严格执行


## 技能需要
在开发的过程，由于缺少相关的技能，不得不频繁地google，导致了很多的麻烦。所以熟练相关技能相当，所谓工欲善其事必先利器。

0. web基本概念理解
    * cookie, session
    * 应答，跳转
    * 服务器端，客户端
    * ajax
1. 一种开发工具/框架
    * django/RoR等
1. 界面设计：
    * html
    * css
    * 交互设计
2. 客户端脚本：
    * javascript

其中界面设计我觉得是最重要的，也是我最欠缺的。因为不管什么网站，都是由一个个页面组成，最终用户看到的只是界面。对于开发人员都说，好的界面也能提高开发人员的成就感，更重要的是界面指导着我们怎么去设计。

以前只是听说过交互设计，现在真正体会交互设计的困难。我理解的交互如下：
基本上分为：

1. 取得数据
   * 如何取得（request/ajax）
   * 如何展现（界面设计）
   * 进一步操作（编辑，删除，详细等）
2. 提交数据
   * 表单设计
   * 校验

交互其实挺麻烦的，有时候明明知道一个功能，但是就是不知道该怎么展现这个功能，分几个步骤？提供哪些操作？

好多东西要学，功夫还得下在平时。

## 性能
对性能还没有怎么仔细考虑过，但是也有一些体会：

1. 网站的性能瓶颈很多时候在于数据库，但是数据库的性能往往取决于代码。
    * 合理设计数据表
    * 批量操作
    * 不要重复查询
2. 压缩文档
    * 去掉不要属性，空格，减少各种文档(html,css,js,图片等)的大小
3. cache

## 工作流程进化
整个项目代码是由git管理的。

最开始：

1. 开发
2. 本机测试

这时只有一个git仓库

上线之后，git仓库如下：  
{% syntax text %}
../->github
dev->mid->online
            |
local<------/
{% endsyntax %}
dev为开发代码，github用来保存代码，mid与online在一个服务器上，用来作为中介，local是本地的online。流程如下：

1. 本地开发
2. 本地测试
3. push到github
4. push到mid
5. online pull mid
6. local pull online

项目的开发，不仅仅是利用开发工具进行功能的开发，我们还需要一套合理的开发流程，好的开发流程可以很好的提升效率，也有得于后期的维护。所以我们需要利用任何工具（git，shell脚本）来支持这个流程，以及帮助开发。

## 总结
很浅显的一些理解和经验，记录在此，以改进以后的开发工作。

